# SmartSpec Pro - Environment Variables

# Database
DATABASE_URL=postgresql+asyncpg://smartspec:smartspec@localhost:5432/smartspec
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# Redis
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=50

# LLM Providers
OPENAI_API_KEY=sk-...
OPENAI_BASE_URL=https://api.openai.com/v1

ANTHROPIC_API_KEY=sk-ant-...
ANTHROPIC_BASE_URL=https://api.anthropic.com

GOOGLE_API_KEY=...

GROQ_API_KEY=gsk_...
GROQ_BASE_URL=https://api.groq.com/openai/v1

OLLAMA_BASE_URL=http://localhost:11434

# OpenRouter (Unified API for 420+ models with load balancing)
OPENROUTER_API_KEY=sk-or-v1-...
OPENROUTER_SITE_URL=https://smartspec.pro  # For rankings on openrouter.ai
OPENROUTER_SITE_NAME=SmartSpec Pro  # For rankings on openrouter.ai

# Z.AI (GLM series)
ZAI_API_KEY=...
ZAI_USE_CODING_ENDPOINT=false  # Set to true if using GLM Coding Plan

# Stripe Payment
STRIPE_PUBLISHABLE_KEY=pk_test_...  # Use pk_live_... in production
STRIPE_SECRET_KEY=sk_test_...  # Use sk_live_... in production
STRIPE_WEBHOOK_SECRET=whsec_...  # Get from Stripe Dashboard
STRIPE_CURRENCY=USD
PAYMENT_MIN_AMOUNT=5.00
PAYMENT_MAX_AMOUNT=10000.00

# Security
SECRET_KEY=your-secret-key-here-change-in-production
# R16.2: Algorithm is now defined in code (RS256)
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# R16.3: JWT Key Paths (optional, will be generated if not present)
JWT_PRIVATE_KEY_PATH=app/core/keys/jwt_private_key.pem
JWT_PUBLIC_KEY_PATH=app/core/keys/jwt_public_key.pem

# Email (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
FROM_EMAIL=noreply@smartspec.com
FROM_NAME=SmartSpec Pro

# App Configuration
APP_NAME=SmartSpec Pro
APP_VERSION=0.2.0
SITE_URL=https://smartspec.pro
SITE_NAME=SmartSpec Pro
FRONTEND_URL=http://localhost:3000
DEBUG=true
LOG_LEVEL=INFO
CORS_ORIGINS=http://localhost:3000,http://localhost:1420

# LLM Proxy Configuration
USE_OPENROUTER=true  # Use OpenRouter by default (420+ models, load balancing, fallbacks)
DEFAULT_BUDGET_PRIORITY=balanced  # quality | cost | speed | balanced
DEFAULT_TEMPERATURE=0.7
DEFAULT_MAX_TOKENS=4000

# LangGraph Configuration
CHECKPOINT_DIR=./data/checkpoints
STATE_DIR=./data/state
MAX_PARALLEL_WORKFLOWS=5

# Workflow Configuration
WORKFLOWS_DIR=../.smartspec/workflows
WORKFLOW_TIMEOUT_SECONDS=300

# Kilo Code CLI
KILO_CLI_PATH=kilo
KILO_CLI_TIMEOUT=300

# Auth Generator
AUTH_GENERATOR_PATH=../auth-generator/dist/cli/index.js

# Monitoring
ENABLE_TELEMETRY=true
SENTRY_DSN=

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# =============================================================================
# CLOUDFLARE R2 STORAGE
# =============================================================================
# Get these from Cloudflare Dashboard > R2 > Manage R2 API Tokens
CLOUDFLARE_R2_ACCESS_KEY_ID=your-r2-access-key-id
CLOUDFLARE_R2_SECRET_ACCESS_KEY=your-r2-secret-access-key

# Your R2 bucket name
CLOUDFLARE_R2_BUCKET_NAME=smartspec

# R2 endpoint URL (format: https://<account-id>.r2.cloudflarestorage.com)
# Get your account ID from Cloudflare Dashboard > R2 > Overview
CLOUDFLARE_R2_ENDPOINT=https://YOUR_ACCOUNT_ID.r2.cloudflarestorage.com

# Public URL for serving files
CLOUDFLARE_R2_PUBLIC_URL=https://pub-0d23e3fbcf704b76aa826d4c11095905.r2.dev

# Optional: Custom domain for R2 (if configured)
CLOUDFLARE_R2_CUSTOM_DOMAIN=https://media.yourdomain.com

# =============================================================================
# KIE.AI API (AI Generation)
# =============================================================================
KIE_AI_API_KEY=your-kie-ai-api-key
KIE_AI_BASE_URL=https://kie.ai/api/v1

# =============================================================================
# ENCRYPTION
# =============================================================================
ENCRYPTION_MASTER_KEY=your-32-character-encryption-key

# =============================================================================
# GENERATION RATE LIMITS
# =============================================================================
RATE_LIMIT_GENERATION_PER_MINUTE=10
RATE_LIMIT_STORAGE_UPLOADS_PER_MINUTE=10
RATE_LIMIT_STORAGE_DOWNLOADS_PER_MINUTE=100

# ============================================================
# SmartSpecWeb Gateway (OpenAI-compatible) forwarding
# ============================================================
SMARTSPEC_USE_WEB_GATEWAY=1
SMARTSPEC_WEB_GATEWAY_URL=http://localhost:3000
SMARTSPEC_WEB_GATEWAY_TOKEN=replace_me_gateway_or_signed_token
SMARTSPEC_MCP_BASE_URL=http://localhost:3000
SMARTSPEC_WEB_GATEWAY_TIMEOUT_SECONDS=600
SMARTSPEC_WEB_GATEWAY_RETRIES=2

# Optional: protect the Python OpenAI-compatible surface
SMARTSPEC_PROXY_TOKEN=

# Restrict OpenAI-compatible endpoints to localhost
SMARTSPEC_LOCALHOST_ONLY=1
